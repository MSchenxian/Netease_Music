"use strict";(self["webpackChunkmy_index"]=self["webpackChunkmy_index"]||[]).push([[69],{69:function(t,s,i){i.r(s),i.d(s,{default:function(){return u}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"artist"},[i("div",{staticClass:"mark"}),i("div",{staticClass:"top"},[i("img",{attrs:{src:t.briefDesc.cover,alt:""}}),i("div",{staticClass:"content"},[i("div",[t._v(t._s(t.briefDesc.name))]),t.toplist?i("div",[t._v("歌手榜华语地区No."+t._s(t.toplist))]):t._e()])]),i("h3",[t._v("歌手简介")]),i("span",{staticClass:"jianjie",class:{active:!!t.showbBriefDesc},domProps:{innerHTML:t._s(t.briefDesc.briefDesc)}}),i("span",{staticClass:"xia",on:{click:function(s){s.stopPropagation(),t.showbBriefDesc=!t.showbBriefDesc}}},[t._v(" "+t._s(t.showbBriefDesc?"完整歌手介绍":"收起")+" "),i("span",{staticClass:"iconfont icon-xiangxiajiantou"})]),i("h3",[t._v("热门歌曲")]),i("music-item",{attrs:{musicitem:t.artistsSong}})],1)},a=[],r=i(598),o={components:{MusicItem:r.Z},props:{currentmusic:{type:Object,default:()=>null},currentstate:{type:Boolean,default:!0}},data(){return{allArtist:[],briefDesc:{},showbBriefDesc:!0,hotSongs:[]}},created(){this.getArtist(),this.getArtistContent(),this.getHotSongs()},methods:{async getArtist(){await this.axios.get("/toplist/artist").then((t=>{console.log(t.list.artists),this.allArtist=t.list.artists}))},async getArtistContent(){await this.axios.get("/artist/detail?id="+this.$route.query.id).then((t=>{console.log(t.artist),this.briefDesc=t.artist}))},getHotSongs(){this.axios.get("/artists?id="+this.$route.query.id).then((t=>{console.log(t),this.hotSongs=t.hotSongs.map(((t,s)=>(t.song={album:t.al,alias:t.alia,artists:t.ar,privilege:t.privilege,i:s+1},t)))}))}},computed:{toplist(){let t=this.$route.query.id,s=this.allArtist.findIndex((s=>s.id==t));return s+1},artistsSong(){return this.hotSongs.slice(0,6)}}},n=o,c=i(736),l=(0,c.Z)(n,e,a,!1,null,"cf6f3936",null),u=l.exports}}]);
//# sourceMappingURL=69.d1eda093.js.map